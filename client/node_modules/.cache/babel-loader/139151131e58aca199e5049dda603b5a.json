{"ast":null,"code":"import _slicedToArray from \"C:/Users/ricar/Desktop/Projects/shop/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { unstable_useId as useId, unstable_useForkRef as useForkRef } from '@mui/utils';\nimport { MenuUnstyledContext } from '../MenuUnstyled';\nimport { useButton } from '../ButtonUnstyled';\nexport default function useMenuItem(props) {\n  var component = props.component,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      ref = props.ref;\n  var id = useId();\n  var menuContext = React.useContext(MenuUnstyledContext);\n  var itemRef = React.useRef(null);\n  var handleRef = useForkRef(itemRef, ref);\n\n  if (menuContext === null) {\n    throw new Error('MenuItemUnstyled must be used within a MenuUnstyled');\n  }\n\n  var registerItem = menuContext.registerItem,\n      unregisterItem = menuContext.unregisterItem,\n      open = menuContext.open;\n  React.useEffect(function () {\n    if (id === undefined) {\n      return undefined;\n    }\n\n    registerItem(id, {\n      disabled: disabled,\n      id: id,\n      ref: itemRef\n    });\n    return function () {\n      return unregisterItem(id);\n    };\n  }, [id, registerItem, unregisterItem, disabled, ref]);\n\n  var _useButton = useButton({\n    component: component,\n    ref: handleRef,\n    disabled: disabled\n  }),\n      getButtonProps = _useButton.getRootProps,\n      focusVisible = _useButton.focusVisible; // Ensure the menu item is focused when highlighted\n\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      focusRequested = _React$useState2[0],\n      requestFocus = _React$useState2[1];\n\n  var focusIfRequested = React.useCallback(function () {\n    if (focusRequested && itemRef.current != null) {\n      itemRef.current.focus();\n      requestFocus(false);\n    }\n  }, [focusRequested]);\n  React.useEffect(function () {\n    focusIfRequested();\n  });\n  React.useDebugValue({\n    id: id,\n    disabled: disabled\n  });\n  var itemState = menuContext.getItemState(id != null ? id : '');\n\n  var _ref = itemState != null ? itemState : {\n    highlighted: false\n  },\n      highlighted = _ref.highlighted;\n\n  React.useEffect(function () {\n    requestFocus(highlighted && open);\n  }, [highlighted, open]);\n\n  if (id === undefined) {\n    return {\n      getRootProps: function getRootProps(other) {\n        return _extends({}, other, getButtonProps(other), {\n          role: 'menuitem'\n        });\n      },\n      itemState: null,\n      focusVisible: focusVisible\n    };\n  }\n\n  return {\n    getRootProps: function getRootProps(other) {\n      var optionProps = menuContext.getItemProps(id, other);\n      return _extends({}, other, getButtonProps(other), {\n        tabIndex: optionProps.tabIndex,\n        id: optionProps.id,\n        role: 'menuitem'\n      });\n    },\n    itemState: itemState,\n    focusVisible: focusVisible\n  };\n}","map":{"version":3,"names":["_extends","React","unstable_useId","useId","unstable_useForkRef","useForkRef","MenuUnstyledContext","useButton","useMenuItem","props","component","disabled","ref","id","menuContext","useContext","itemRef","useRef","handleRef","Error","registerItem","unregisterItem","open","useEffect","undefined","getButtonProps","getRootProps","focusVisible","useState","focusRequested","requestFocus","focusIfRequested","useCallback","current","focus","useDebugValue","itemState","getItemState","highlighted","other","role","optionProps","getItemProps","tabIndex"],"sources":["C:/Users/ricar/Desktop/Projects/shop/client/node_modules/@mui/base/MenuItemUnstyled/useMenuItem.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { unstable_useId as useId, unstable_useForkRef as useForkRef } from '@mui/utils';\nimport { MenuUnstyledContext } from '../MenuUnstyled';\nimport { useButton } from '../ButtonUnstyled';\nexport default function useMenuItem(props) {\n  const {\n    component,\n    disabled = false,\n    ref\n  } = props;\n  const id = useId();\n  const menuContext = React.useContext(MenuUnstyledContext);\n  const itemRef = React.useRef(null);\n  const handleRef = useForkRef(itemRef, ref);\n\n  if (menuContext === null) {\n    throw new Error('MenuItemUnstyled must be used within a MenuUnstyled');\n  }\n\n  const {\n    registerItem,\n    unregisterItem,\n    open\n  } = menuContext;\n  React.useEffect(() => {\n    if (id === undefined) {\n      return undefined;\n    }\n\n    registerItem(id, {\n      disabled,\n      id,\n      ref: itemRef\n    });\n    return () => unregisterItem(id);\n  }, [id, registerItem, unregisterItem, disabled, ref]);\n  const {\n    getRootProps: getButtonProps,\n    focusVisible\n  } = useButton({\n    component,\n    ref: handleRef,\n    disabled\n  }); // Ensure the menu item is focused when highlighted\n\n  const [focusRequested, requestFocus] = React.useState(false);\n  const focusIfRequested = React.useCallback(() => {\n    if (focusRequested && itemRef.current != null) {\n      itemRef.current.focus();\n      requestFocus(false);\n    }\n  }, [focusRequested]);\n  React.useEffect(() => {\n    focusIfRequested();\n  });\n  React.useDebugValue({\n    id,\n    disabled\n  });\n  const itemState = menuContext.getItemState(id != null ? id : '');\n  const {\n    highlighted\n  } = itemState != null ? itemState : {\n    highlighted: false\n  };\n  React.useEffect(() => {\n    requestFocus(highlighted && open);\n  }, [highlighted, open]);\n\n  if (id === undefined) {\n    return {\n      getRootProps: other => _extends({}, other, getButtonProps(other), {\n        role: 'menuitem'\n      }),\n      itemState: null,\n      focusVisible\n    };\n  }\n\n  return {\n    getRootProps: other => {\n      const optionProps = menuContext.getItemProps(id, other);\n      return _extends({}, other, getButtonProps(other), {\n        tabIndex: optionProps.tabIndex,\n        id: optionProps.id,\n        role: 'menuitem'\n      });\n    },\n    itemState,\n    focusVisible\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}